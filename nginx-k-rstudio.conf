# ===== KRSTUDIO AI VISION – NGINX Configuration =====
# הוסף את הבלוקים הבאים בתוך server { ... } שלך ב-/etc/nginx/sites-available/k-rstudio.com
# 
# אחרי העריכה:
# sudo nginx -t   # לוודא שאין שגיאות
# sudo systemctl reload nginx

# ===== KRSTUDIO AI VISION – React תחת /ltx/video =====
location /ltx/video/ {
    alias /var/www/KRSTUDIO-AI-VISION/client/dist/;
    try_files $uri $uri/ /ltx/video/index.html;
}

# ===== API ל-LTX (Node) =====
location /api/ltx/ {
    proxy_pass http://127.0.0.1:4100/api/ltx/;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
}

# ===== גישה ישירה ל-RunPod למקרה שתצטרך =====
location /runpod/ {
    proxy_pass https://rmo5wr1h48d38t-8000.proxy.runpod.net/;
    proxy_set_header Host rmo5wr1h48d38t-8000.proxy.runpod.net;
    proxy_http_version 1.1;
    proxy_set_header Connection "";
}

